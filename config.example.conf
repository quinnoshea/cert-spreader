# Certificate Spreader Configuration Example
# Copy this file to config.conf and customize for your environment

# Basic configuration
DOMAIN="example.com"
CERT_DIR="/etc/letsencrypt/live/example.com"

# SSH configuration
SSH_OPTS="-o ConnectTimeout=10 -o StrictHostKeyChecking=accept-new"

# Logging
LOG_FILE="/var/log/cert-spreader.log"

# Host definitions (space-separated list)
HOSTS="web-server mail-server database-server app-server"

# Host-specific configurations
# Format: "hostname:port:service1,service2,service3"
HOST_SERVICES=(
    "web-server:22:nginx,apache2"
    "mail-server:22:postfix,dovecot"
    "database-server:22:mysql"
    "app-server:2222:myapp"
)


# Proxmox configuration (leave empty if not using Proxmox)
PROXMOX_USER="user@pve!tokenid"
PROXMOX_TOKEN="your-token-here"

# Proxmox nodes (just hostnames - domain will be appended automatically)
PROXMOX_NODES=(
    "proxmox01"
    "proxmox02"
)

# Custom certificate generation configuration
# You can use either the flexible array format or individual settings

# FLEXIBLE ARRAY FORMAT (recommended):
# Format: "type:password_or_dhparam:filename"
CUSTOM_CERTIFICATES=(
    "pkcs12:your-password:app-certificate.pfx"
    "concatenated:/etc/nginx/ssl/dhparam.pem:nginx-combined.pem"
    "concatenated::simple-combined.pem"
)

# INDIVIDUAL SETTINGS FORMAT (alternative):
# PKCS12/PFX certificate generation
PKCS12_ENABLED=false
PKCS12_PASSWORD="your-password-here"    # Optional - leave empty for no password
PKCS12_FILENAME="certificate.pfx"       # Custom filename

# Concatenated certificate generation
CONCATENATED_ENABLED=false
CONCATENATED_DHPARAM_FILE="/etc/nginx/ssl/dhparam.pem"  # Optional DH parameters
CONCATENATED_FILENAME="combined.pem"     # Custom filename

# BACKWARD COMPATIBILITY (legacy settings):
# These will be automatically converted to the new format
PLEX_CERT_ENABLED=false
PLEX_CERT_PASSWORD="your-password-here"
ZNC_CERT_ENABLED=false
ZNC_DHPARAM_FILE="/etc/nginx/ssl/dhparam.pem"

# File permissions configuration
# These control the permissions set on certificate files and directories
FILE_PERMISSIONS=644                 # Default permissions for certificate files (owner: read/write, group/others: read)
PRIVKEY_PERMISSIONS=600              # More restrictive permissions for private keys (owner: read/write only)
DIRECTORY_PERMISSIONS=755            # Directory permissions (owner: read/write/execute, group/others: read/execute)
FILE_OWNER=root                      # File owner (default: root)
FILE_GROUP=root                      # File group (default: root)